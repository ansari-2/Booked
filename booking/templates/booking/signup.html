<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script>
      function validation() {
        submitOK = true;
        checkname();
        checkpassword();
        checkphone();
        if (submitOK === false) {
          return false;
        }
      }
      function checkname() {
        const username = document.getElementById("username").value;
        if (username.length > 150) {
          alert("usename cannot be more than 150 characters");
          submitOK = false;
        }
      }
      function checkpassword() {
        let check = false;
        const pass1 = document.getElementById("password1").value;
        const pass2 = document.getElementById("password2").value;
        let passString = pass1.toString();
        console.log(passString.length);
        console.log(pass1);
        if (pass1 != pass2) {
          alert("passwords donot match");
          submitOK = false;
        } else if (pass1.length < 8) {
          alert("password should be 8 characters long");
          submitOK = false;
        } else {
          const alpha =
            "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz@.+-_";
          let arr = [];
          for (let i = 0; i < alpha.length; i++) {
            arr.push(alpha[i]);
          }
          console.log(arr, "this is an array");

          for (let i = 0; i < passString.length; i++) {
            if (arr.includes(pass1[i])) {
              console.log(pass1[i]);
              submitOK = true;
              check = true;
              break;
            }
          }
          console.log(check);
          if (check != true) {
            alert("password should contain atleast 1 character");
            submitOK = false;
          }
        }
      }

      function checkphone() {
        const phone = document.getElementById("phone").value;
        if (phone.length != 10) {
          alert("enter a 10 digit phone number ");
          submitOK = false;
        }
      }
    </script>
  </head>
  <body>
    <form
      name="signup"
      action="{% url 'profile' %}"
      onsubmit="return validation()"
      method="POST"
    >
      {% csrf_token %}
      <label for="username">Username</label>
      <input type="text" id="username" name="username" requried />
      <label for="password1">Password</label>
      <input type="password" id="password1" name="password1" required />
      <label for="password2">Re-enter Password</label>
      <input type="password" id="password2" name="password2" required />
      <label for="email">Email</label>
      <input type="email" id="email" name="email" required />
      <label for="phone">phone</label>
      <input type="text" name="phone" id="phone" required />
      <label for="first_name">First Name</label>
      <input type="text" id="first_name" name="first_name" required />
      <label for="last_name">Last Name</label>
      <input type="text" name="last_name" id="last_name" />
      <input type="submit" value="Login" />
    </form>
    <!--  function validation() {
        const nameOf = document.getElementById("username");
        localStorage.setItem("username", nameOf.value);
        const checkName = localStorage.getItem("username");
        if (checkName.lenght > 150) {
          alter("More than 150 characters");
        }
        const value1 = document.getElementById("password1");
        localStorage.setItem("password1", value1.value);
        const value2 = document.getElementById("password2");
        localStorage.setItem("password2", value2.value);
        const storedvalue1 = localStorage.getItem("password1");
        const storedvalue2 = localStorage.getItem("password2");
        console.log(storedvalue2);

        if (storedvalue1 != storedvalue2) {
          console.log("Passwords dont match");
        }
      } -->
  </body>
</html>
